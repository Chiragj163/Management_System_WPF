<Window x:Class="Management_System_WPF.Views.BuyerSpecialPriceWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Buyer Special Prices"
        Height="650" Width="950"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <Window.Resources>
        <SolidColorBrush x:Key="PrimaryColor" Color="#009688"/>
        <SolidColorBrush x:Key="PrimaryHover" Color="#00796B"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#E0F2F1"/>
        <SolidColorBrush x:Key="TextDark" Color="#37474F"/>
        <SolidColorBrush x:Key="TextLight" Color="#78909C"/>
        <SolidColorBrush x:Key="DangerColor" Color="#E53935"/>

        <Style TargetType="Control" x:Key="InputStyle">
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="BorderBrush" Value="#CFD8DC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
        </Style>

        <Style TargetType="Button" x:Key="PrimaryButton">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="15,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource PrimaryHover}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="Button" x:Key="DangerButton">
            <Setter Property="Width" Value="36"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="6"/>
            <Setter Property="Background" Value="#FFEBEE"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                        CornerRadius="6">
                            <ContentPresenter 
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Border Background="White"
            CornerRadius="15"
            Margin="20"
            BorderBrush="{StaticResource PrimaryColor}"
            BorderThickness="1">

       
        <Grid Margin="25">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Margin="0,0,0,2">
               

                <Button Content="✕"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Background="Transparent"
                        BorderThickness="0"
                        FontSize="18"
                        Foreground="{StaticResource TextLight}"
                        Cursor="Hand"
                        IsCancel="True"/>
            </Grid>

           

            <Grid Grid.Row="1" Width="600" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                
                <!-- ================= CONTENT ================= -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <!-- Delete -->
                        <ColumnDefinition Width="*"/>
                        <!-- TextBox -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- Save -->
                    </Grid.ColumnDefinitions>

                    <!-- 🔴 DELETE BUTTON (LEFT) -->
                    <Button Grid.Column="0"
                Content="   Delete   "
                Background="{StaticResource DangerColor}"
                Foreground="White"
                Height="40"
                         MinWidth="110"
           
                 Padding="20,0"
                Margin="0,0,15,0"
                Style="{StaticResource PrimaryButton}"
                Click="DeleteBuyer_Click" BorderBrush="#FF111111" BorderThickness="10,10,10,11"/>

                    <!-- ✏ BUYER NAME INPUT -->
                    <TextBox Grid.Column="1"
                 x:Name="txtBuyerName"
                 Style="{StaticResource InputStyle}"
                 FontSize="20"
                 FontWeight="Bold"/>

                    <!-- ✅ SAVE BUTTON (RIGHT) -->
                    <Button Grid.Column="2"
                Content="  Save  "
                Height="40"
        MinWidth="100"
        Padding="20,0"
               
                Margin="15,0,0,0"
                Style="{StaticResource PrimaryButton}"
                Click="SaveBuyerName_Click"/>
                </Grid>
            </Grid>

            <Border Grid.Row="2" 
                    Background="{StaticResource SecondaryColor}" 
                    CornerRadius="8" 
                    Padding="15" 
                    Margin="0,10,0,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="0,0,15,0">
                        <TextBlock Text="Select Article" FontWeight="SemiBold" Foreground="{StaticResource PrimaryColor}" Margin="0,0,0,5"/>
                        <ComboBox x:Name="cmbItems" Height="40" FontSize="14" Padding="10,0" Background="White"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="0,0,15,0">
                        <TextBlock Text="Special Price" FontWeight="SemiBold" Foreground="{StaticResource PrimaryColor}" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtSpecialPrice" 
                                 Height="40" 
                                 FontSize="14" 
                                 VerticalContentAlignment="Center" 
                                 Padding="5"
                                 HorizontalContentAlignment="Center"/>
                    </StackPanel>

                    <Button Grid.Column="2" 
                            Content="Save Special Price" 
                            Style="{StaticResource PrimaryButton}"
                            Height="40"
                            
        MinWidth="170"
        Padding="25,0"
                            VerticalAlignment="Bottom"
                            Click="SaveSpecialPrice_Click"/>
                </Grid>
            </Border>

            <Border Grid.Row="3" 
                    Background="White" 
                    CornerRadius="10" 
                    BorderBrush="#EEE" 
                    BorderThickness="1">

                <DataGrid x:Name="dgSpecialPrices"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          HeadersVisibility="Column"
                          RowHeight="45"
                          FontSize="14"

                          GridLinesVisibility="Horizontal"
                          HorizontalGridLinesBrush="#EEE"
                          BorderThickness="0"
                          Background="White">
                    <DataGrid.Resources>

                        <!-- HEADER -->
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="White"/>
                            <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="Padding" Value="10"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                            <Setter Property="BorderBrush" Value="#EEE"/>
                        </Style>

                        <!-- CELL -->
                        <Style TargetType="DataGridCell">
                            <Setter Property="Padding" Value="6,4"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="BorderThickness" Value="0"/>
                        </Style>

                    </DataGrid.Resources>

                    <DataGrid.Columns>

                        <!-- Article Name -->
                        <DataGridTextColumn Header="Article Name"
                        Binding="{Binding ItemName}"
                        Width="2*">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextDark}"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Original Price -->
                        <DataGridTextColumn Header="Original Price"
                        Binding="{Binding OriginalPrice}"
                        Width="1*">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextLight}"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Special Price -->
                        <DataGridTemplateColumn Header="Special Price"
                            Width="1*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBox Text="{Binding SpecialPrice, UpdateSourceTrigger=PropertyChanged}"
                         Height="30"
                         Width="80"
                         FontSize="14"
                         FontWeight="Bold"
                         Foreground="{StaticResource PrimaryColor}"
                         HorizontalContentAlignment="Center"
                         VerticalContentAlignment="Center"
                         BorderBrush="#CFD8DC"
                         BorderThickness="1"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- Actions -->
                        <DataGridTemplateColumn Header="Actions"
                        Width="160">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">

                                        <!-- Update -->
                                        <Button ToolTip="Update Price"
        Style="{StaticResource DangerButton}"
        Click="UpdateSpecialPrice_Click"
        Margin="4,0">
                                            <Viewbox Width="16" Height="16">
                                                <Path Data="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"
              Fill="{StaticResource PrimaryColor}"/>
                                            </Viewbox>
                                        </Button>


                                        <!-- Delete -->
                                        <Button ToolTip="Remove Special Price"
        Style="{StaticResource DangerButton}"
        Click="DeleteSpecialPrice_Click"
        Margin="4,0">
                                            <Viewbox Width="16" Height="16">
                                                <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"
              Fill="{StaticResource DangerColor}"/>
                                            </Viewbox>
                                        </Button>


                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>


                    </DataGrid.Columns>

                </DataGrid>

            </Border>
        </Grid>
    </Border>
</Window>